var fang=function(){var t={then:function(u){return"function"==typeof u&&t.utils.queue.push(u),t},next:function(){var u=Array.prototype.splice.call(arguments,0);return"undefined"!=typeof t.utils.queue[t.utils.i+1]?(t.utils.i++,t.utils.queue[t.utils.i].apply({next:t.next},u)):void 0},utils:{queue:[],i:-1}};return function(){function u(){for(var t=[],u=0,n=arguments.length;n>u;u++)t.push(arguments[u]);return e.utils.i=-1,e.next.apply(null,t)}for(var e=Object.create(t),n=0,r=arguments.length;r>n;n++)"function"==typeof arguments[n]&&e.then(arguments[n]);return u}}();